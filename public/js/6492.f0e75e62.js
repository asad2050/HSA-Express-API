(self["webpackChunkhsa_spa"]=self["webpackChunkhsa_spa"]||[]).push([[6492],{8889:function(e,t,a){"use strict";a.r(t);var o=a(1601),s=a.n(o),i=a(6314),r=a.n(i),d=r()(s());d.push([e.id,"section[data-v-7547c365]{margin:2rem 4rem;padding:0;flex-direction:column;align-items:center;flex:1}form[data-v-7547c365],section[data-v-7547c365]{max-width:100%;display:flex}form[data-v-7547c365]{flex-direction:column;gap:1rem;padding:1rem 0}.card[data-v-7547c365]{max-width:100%}h1[data-v-7547c365]{margin:0;font-size:var(--h4-laptop)}.form-control[data-v-7547c365]{margin:.5rem 0;text-align:left;max-width:100%}.form-control label[data-v-7547c365]{font-family:Open Sans;font-size:var(--h6-laptop);font-weight:700}h5[data-v-7547c365]{font-size:var(--h5-laptop)}h4[data-v-7547c365]{font-size:var(--h4-laptop)}.form-container[data-v-7547c365],input[data-v-7547c365],select[data-v-7547c365]{padding:.5rem;max-width:100%}input[data-v-7547c365],select[data-v-7547c365]{display:block;margin-top:.5rem;height:2.5rem;border:1px solid var(--primary-color);border-radius:8px;font-size:var(--h6-laptop)}input[data-v-7547c365]:focus,select[data-v-7547c365]:focus{background-color:var(--black-5)}#validation-message[data-v-7547c365],.error-message[data-v-7547c365]{color:red;font-size:var(--h6-laptop)}.row[data-v-7547c365]{justify-content:flex-start;width:100%;margin:1rem 0;gap:1rem;border:1px solid #000;border-radius:8px}.row[data-v-7547c365],.top-top-container[data-v-7547c365]{display:flex;align-items:center;max-width:100%}.top-top-container[data-v-7547c365]{flex-direction:column;-moz-column-gap:2rem;column-gap:2rem}.top-container h5[data-v-7547c365]{font-size:var(--h5-laptop);margin:0;text-align:center}.top-container[data-v-7547c365]{border:1px solid #000;border-radius:8px;padding:1rem;margin:1rem;max-width:100%}.row h6[data-v-7547c365]{font-size:var(--h6-laptop);margin:0}",""]),t["default"]=d},6492:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var o=a(6768),s=a(4232),i=a(5130);const r=e=>((0,o.Qi)("data-v-7547c365"),e=e(),(0,o.jt)(),e),d={class:"error-message"},n=r((()=>(0,o.Lk)("p",{class:"success"},"Updated Successfullly",-1))),l=r((()=>(0,o.Lk)("h1",null,"Add Off Days",-1))),f={key:0,id:"validation-message"},c={class:"form-container"},m={class:"top-top-container"},u={class:"form-control"},h=r((()=>(0,o.Lk)("label",{f:""},"Date",-1))),p=["onUpdate:modelValue"],v=r((()=>(0,o.Lk)("h5",null,"Shifts",-1))),k={class:"form-control"},y=r((()=>(0,o.Lk)("label",{for:""},"Start",-1))),g=["onUpdate:modelValue"],b={class:"form-control"},D=r((()=>(0,o.Lk)("label",null,"End",-1))),x=["onUpdate:modelValue"];function C(e,t,a,r,C,L){const w=(0,o.g2)("base-dialog"),T=(0,o.g2)("base-spinner"),_=(0,o.g2)("base-button"),F=(0,o.g2)("base-button-container"),S=(0,o.g2)("base-card");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(w,{show:!!C.error,title:"An error occurred",onClose:L.handleError},{default:(0,o.k6)((()=>[(0,o.Lk)("p",d,(0,s.v_)(C.error),1)])),_:1},8,["show","onClose"]),(0,o.bF)(w,{show:C.success&&!C.error,title:"Appointment Booked Successfullly",onClose:L.handleSuccess},{default:(0,o.k6)((()=>[n])),_:1},8,["show","onClose"]),C.isLoading&&!C.error?((0,o.uX)(),(0,o.Wv)(w,{key:0,show:C.isLoading,title:"Loading...",fixed:""},{default:(0,o.k6)((()=>[(0,o.bF)(T)])),_:1},8,["show"])):(0,o.Q3)("",!0),(0,o.Lk)("section",null,[l,(0,o.bF)(S,null,{default:(0,o.k6)((()=>[e.formIsValid?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",f,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(this.errors,(e=>((0,o.uX)(),(0,o.CE)("p",{key:e},(0,s.v_)(e),1)))),128))])),(0,o.Lk)("div",c,[(0,o.Lk)("form",null,[(0,o.Lk)("div",m,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(C.offDays,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{class:"top-container",key:e},[(0,o.Lk)("h5",null,"OffDay "+(0,s.v_)(a+1),1),(0,o.Lk)("div",u,[h,(0,o.bo)((0,o.Lk)("input",{type:"date","onUpdate:modelValue":t=>e.date=t},null,8,p),[[i.Jo,e.date,void 0,{trim:!0}]])]),v,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(C.offDays[a].shifts,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"row",key:e},[(0,o.Lk)("h6",null,(0,s.v_)(t+1),1),(0,o.Lk)("div",k,[y,(0,o.bo)((0,o.Lk)("input",{type:"time","onUpdate:modelValue":t=>e.startTime=t},null,8,g),[[i.Jo,e.startTime,void 0,{trim:!0}]])]),(0,o.Lk)("div",b,[D,(0,o.bo)((0,o.Lk)("input",{type:"time","onUpdate:modelValue":t=>e.endTime=t},null,8,x),[[i.Jo,e.endTime,void 0,{trim:!0}]])]),(0,o.bF)(F,null,{default:(0,o.k6)((()=>[(0,o.bF)(_,{mode:"primary small",onClick:(0,i.D$)((e=>L.addShift(a)),["prevent"])},{default:(0,o.k6)((()=>[(0,o.eW)("Add Shift")])),_:2},1032,["onClick"]),(0,o.bF)(_,{onClick:(0,i.D$)((e=>L.removeShift(a,t)),["prevent"]),mode:"red small"},{default:(0,o.k6)((()=>[(0,o.eW)("Remove Shift")])),_:2},1032,["onClick"])])),_:2},1024)])))),128)),(0,o.bF)(F,null,{default:(0,o.k6)((()=>[(0,o.bF)(_,{mode:"primary small",onClick:t[0]||(t[0]=(0,i.D$)((e=>L.addOffDay()),["prevent"]))},{default:(0,o.k6)((()=>[(0,o.eW)("Add OffDay")])),_:1}),(0,o.bF)(_,{onClick:(0,i.D$)((e=>L.removeOffDay(a)),["prevent"]),mode:"red small"},{default:(0,o.k6)((()=>[(0,o.eW)("Remove OffDay")])),_:2},1032,["onClick"])])),_:2},1024)])))),128))]),(0,o.bF)(F,null,{default:(0,o.k6)((()=>[(0,o.bF)(_,{mode:"primary ",onClick:L.submitEdit},{default:(0,o.k6)((()=>[(0,o.eW)("Submit")])),_:1},8,["onClick"]),(0,o.bF)(_,{mode:"outline",onClick:L.backToProfile},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1},8,["onClick"])])),_:1})])])])),_:1})])],64)}a(4114);var L={props:["dId"],data(){return{error:null,errors:[],isLoading:!1,success:!1,offDays:[{date:"",shifts:[{startTime:"",endTime:""}]}]}},computed:{},methods:{addOffDay(){for(const e of this.offDays){if(!e.date||""===e.date||!/^\d{4}-\d{2}-\d{2}$/.test(e.date))return;if(e.shifts.length>0)for(const t of e.shifts){if(!t.startTime||""===t.startTime)return;if(!t.endTime||""===t.endTime)return}}this.offDays.push({date:"",shifts:[{startTime:"",endTime:""}]})},removeOffDay(e){this.offDays.length>1&&this.offDays.splice(e,1)},addShift(e){for(const t of this.offDays[e].shifts){if(!t.startTime||""===t.startTime)return;if(!t.endTime||""===t.endTime)return}this.offDays[e].shifts.push({startTime:"",endTime:""})},removeShift(e,t){this.offDays[e].shifts.length>1&&this.offDays[e].shifts.splice(t,1)},async submitEdit(){if(this.formIsValid=!0,!this.checkForm())return void(this.formIsValid=!1);let e=JSON.stringify(this.offDays);e=JSON.parse(e);const t={dId:this.dId,offDays:e};console.log(t),this.isLoading=!0;try{await this.$store.dispatch("admin/updateDoctorOffDays",t),this.isLoading=!1}catch(a){this.error=a.message||"Failed to update, try later."}this.success=!0},backToProfile(){this.$router.back()},handleError(){this.error=null},handleSuccess(){this.success=!1},checkForm(){this.errors=[];for(const[e,t]of this.offDays.entries())if(t.date&&""!==t.date&&/^\d{4}-\d{2}-\d{2}$/.test(t.date)||this.errors.push("Date of Offday is empty at index"+(e+1)),this.offDays[e].shifts.length>0){console.log("here 2");for(const[t,a]of this.offDays[e].shifts.entries())a.startTime&&""!==a.startTime||this.errors.push("Shift Start not be empty, at shift index "+(t+1)+"of OffDay with  index"+(e+1)),a.endTime&&""!==a.endTime||this.errors.push("Shift End not be empty, at shift index "+(t+1)+"of OffDay with index"+(e+1))}return!this.errors.length}}},w=(a(5884),a(1241));const T=(0,w.A)(L,[["render",C],["__scopeId","data-v-7547c365"]]);var _=T},5884:function(e,t,a){var o=a(8889);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(8459).A;s("57cb6970",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=6492.f0e75e62.js.map