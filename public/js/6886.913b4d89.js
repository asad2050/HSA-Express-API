(self["webpackChunkhsa_spa"]=self["webpackChunkhsa_spa"]||[]).push([[6886],{3877:function(e,a,t){"use strict";t.r(a);var i=t(1601),r=t.n(i),o=t(6314),d=t.n(o),s=d()(r());s.push([e.id,"section[data-v-dc55dbdc]{margin:2rem 4rem;padding:0;flex-direction:column;align-items:center;flex:1}form[data-v-dc55dbdc],section[data-v-dc55dbdc]{max-width:100%;display:flex}form[data-v-dc55dbdc]{flex-wrap:wrap;align-items:flex-start;padding:1rem 0;padding:.5rem;gap:1rem}.card[data-v-dc55dbdc]{max-width:100%;margin:1rem 0}h1[data-v-dc55dbdc]{margin:0;font-size:var(--h4-laptop)}.form-control[data-v-dc55dbdc]{margin:.5rem 0;text-align:left;max-width:100%}.form-control label[data-v-dc55dbdc]{font-family:Open Sans;font-size:var(--h6-laptop);font-weight:700}h5[data-v-dc55dbdc]{font-size:var(--h5-laptop)}h4[data-v-dc55dbdc]{font-size:var(--h4-laptop)}.container[data-v-dc55dbdc]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem}.form-container[data-v-dc55dbdc],input[data-v-dc55dbdc],select[data-v-dc55dbdc]{padding:.5rem;max-width:100%}input[data-v-dc55dbdc],select[data-v-dc55dbdc]{display:block;margin-top:.5rem;height:2.5rem;border:1px solid var(--primary-color);border-radius:8px;font-size:var(--h6-laptop)}input[data-v-dc55dbdc]:focus,select[data-v-dc55dbdc]:focus{background-color:var(--black-5)}#validation-message[data-v-dc55dbdc],.error-message[data-v-dc55dbdc]{color:red;font-size:var(--h6-laptop)}.row[data-v-dc55dbdc]{display:flex;justify-content:flex-start;align-items:center;width:100%;max-width:100%;margin:1rem 0;gap:1rem}.top-container h5[data-v-dc55dbdc]{font-size:var(--h5-laptop);margin:0;text-align:start}.top-container[data-v-dc55dbdc]{border:1px solid #000;border-radius:8px;padding:.5rem;max-width:100%}#validation-message[data-v-dc55dbdc]{display:flex;flex-wrap:wrap;gap:1rem}.row h6[data-v-dc55dbdc]{font-size:var(--h6-laptop);margin:0}",""]),a["default"]=s},6886:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return Y}});var i=t(6768),r=t(4232),o=t(5130);const d=e=>((0,i.Qi)("data-v-dc55dbdc"),e=e(),(0,i.jt)(),e),s={class:"error-message"},l={key:0},n=d((()=>(0,i.Lk)("h1",null,"Create Staff",-1))),c={class:"form-container"},u={class:"top-container"},m={class:"form-control"},p=d((()=>(0,i.Lk)("label",{for:"firstName"},"First Name",-1))),h={class:"form-control"},f=d((()=>(0,i.Lk)("label",{for:"middleName"},"Middle Name",-1))),b={class:"form-control"},v=d((()=>(0,i.Lk)("label",{for:"lastName"},"Last Name",-1))),k={class:"form-control"},g=d((()=>(0,i.Lk)("label",{for:"email"},"Email",-1))),N={class:"form-control"},L=d((()=>(0,i.Lk)("label",{for:"password"},"Password",-1))),x={class:"form-control"},y=d((()=>(0,i.Lk)("label",{for:"role"},"Role",-1))),C=["value"],w={key:0,class:"top-container"},E={class:"form-control"},_=d((()=>(0,i.Lk)("label",{for:"age"},"Age",-1))),q={class:"form-control"},F=d((()=>(0,i.Lk)("label",{for:"phoneNumber"},"Phone Number",-1))),R={class:"form-control"},Q=d((()=>(0,i.Lk)("label",{for:"sex"},"Sex",-1))),V={key:1,class:"top-container"},M={class:"form-control"},U=d((()=>(0,i.Lk)("label",{for:"yearOfRegistration"},"Year of Registration",-1))),X={class:"form-control"},O=d((()=>(0,i.Lk)("label",{for:"registrationNumber"},"Registration Number",-1))),J={class:"form-control"},z=d((()=>(0,i.Lk)("label",{for:"stateMedicalCouncil"},"State Medical Council",-1))),I={key:2,class:"top-container"},S=d((()=>(0,i.Lk)("h5",null,"Education Qualification",-1))),K={class:"form-control"},W=["onUpdate:modelValue"],A={key:0,id:"validation-message"};function P(e,a,t,d,P,$){const j=(0,i.g2)("base-dialog"),D=(0,i.g2)("base-button"),Y=(0,i.g2)("base-button-container"),B=(0,i.g2)("base-card");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(j,{show:!!P.error,title:"An error occurred",onClose:$.handleError},{default:(0,i.k6)((()=>[(0,i.Lk)("p",s,(0,r.v_)(P.error),1)])),_:1},8,["show","onClose"]),e.isLoading?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("section",l,[n,(0,i.bF)(B,null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",c,[(0,i.Lk)("form",null,[(0,i.Lk)("div",u,[(0,i.Lk)("div",m,[p,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"firstName","onUpdate:modelValue":a[0]||(a[0]=e=>P.firstName=e),required:""},null,512),[[o.Jo,P.firstName,void 0,{trim:!0}]])]),(0,i.Lk)("div",h,[f,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"middleName","onUpdate:modelValue":a[1]||(a[1]=e=>P.middleName=e)},null,512),[[o.Jo,P.middleName,void 0,{trim:!0}]])]),(0,i.Lk)("div",b,[v,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"lastName","onUpdate:modelValue":a[2]||(a[2]=e=>P.lastName=e),required:""},null,512),[[o.Jo,P.lastName,void 0,{trim:!0}]])]),(0,i.Lk)("div",k,[g,(0,i.bo)((0,i.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":a[3]||(a[3]=e=>P.email=e),required:""},null,512),[[o.Jo,P.email,void 0,{trim:!0}]])]),(0,i.Lk)("div",N,[L,(0,i.bo)((0,i.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":a[4]||(a[4]=e=>P.password=e),required:""},null,512),[[o.Jo,P.password,void 0,{trim:!0}]])]),(0,i.Lk)("div",x,[y,(0,i.bo)((0,i.Lk)("select",{id:"role","onUpdate:modelValue":a[5]||(a[5]=e=>P.role=e),required:""},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(this.roles,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,r.v_)(e),9,C)))),128))],512),[[o.u1,P.role,void 0,{trim:!0}]])])]),"admin"!==this.role?((0,i.uX)(),(0,i.CE)("div",w,[(0,i.Lk)("div",E,[_,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"age","onUpdate:modelValue":a[6]||(a[6]=e=>P.age=e),required:""},null,512),[[o.Jo,P.age,void 0,{trim:!0}]])]),(0,i.Lk)("div",q,[F,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"phoneNumber","onUpdate:modelValue":a[7]||(a[7]=e=>P.phoneNumber=e),required:""},null,512),[[o.Jo,P.phoneNumber,void 0,{trim:!0}]])]),(0,i.Lk)("div",R,[Q,(0,i.bo)((0,i.Lk)("select",{type:"text",id:"sex","onUpdate:modelValue":a[8]||(a[8]=a=>e.sex=a),required:""},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(this.sexes,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:"sex"},(0,r.v_)(e),1)))),128))],512),[[o.u1,e.sex,void 0,{trim:!0}]])])])):(0,i.Q3)("",!0),"doctor"===this.role?((0,i.uX)(),(0,i.CE)("div",V,[(0,i.Lk)("div",M,[U,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"yearOfRegistration","onUpdate:modelValue":a[9]||(a[9]=e=>P.yearOfRegistration=e),required:""},null,512),[[o.Jo,P.yearOfRegistration,void 0,{trim:!0}]])]),(0,i.Lk)("div",X,[O,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"registrationNumber","onUpdate:modelValue":a[10]||(a[10]=e=>P.registrationNumber=e),required:""},null,512),[[o.Jo,P.registrationNumber,void 0,{trim:!0}]])]),(0,i.Lk)("div",J,[z,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"stateMedicalCouncil","onUpdate:modelValue":a[11]||(a[11]=e=>P.stateMedicalCouncil=e),required:""},null,512),[[o.Jo,P.stateMedicalCouncil,void 0,{trim:!0}]])])])):(0,i.Q3)("",!0),"admin"!==this.role?((0,i.uX)(),(0,i.CE)("div",I,[S,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(P.educationQualification,((e,a)=>((0,i.uX)(),(0,i.CE)("div",{class:"row",key:e},[(0,i.Lk)("h6",null,(0,r.v_)(a+1),1),(0,i.Lk)("div",K,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":a=>e.name=a},null,8,W),[[o.Jo,e.name,void 0,{trim:!0}]])]),(0,i.bF)(Y,null,{default:(0,i.k6)((()=>[(0,i.bF)(D,{mode:"primary small",onClick:(0,o.D$)($.addEducationRow,["prevent"])},{default:(0,i.k6)((()=>[(0,i.eW)("+")])),_:1},8,["onClick"]),(0,i.eW)(),(0,i.bF)(D,{onClick:(0,o.D$)((e=>$.removeEducationRow(a)),["prevent"]),mode:"red small"},{default:(0,i.k6)((()=>[(0,i.eW)("-")])),_:2},1032,["onClick"])])),_:2},1024)])))),128))])):(0,i.Q3)("",!0)]),this.formIsValid?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",A,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(this.errors,((e,a)=>((0,i.uX)(),(0,i.CE)("p",{key:e},(0,r.v_)(a+1)+" "+(0,r.v_)(e),1)))),128))])),(0,i.bF)(Y,null,{default:(0,i.k6)((()=>[(0,i.bF)(D,{mode:"primary",onClick:$.submitCreate},{default:(0,i.k6)((()=>[(0,i.eW)("Create Staff")])),_:1},8,["onClick"]),(0,i.bF)(D,{mode:"outline",onClick:$.back},{default:(0,i.k6)((()=>[(0,i.eW)("Back")])),_:1},8,["onClick"])])),_:1})])])),_:1})]))],64)}t(4114);var $={data(){return{errors:[],sexes:["Male","Female","Others"],roles:["admin","doctor","nurse","receptionist"],firstName:"",middleName:"",lastName:"",email:"",age:"",phoneNumber:"",role:"",password:"",stateMedicalCouncil:"",registrationNumber:"",yearOfRegistration:"",educationQualification:[{name:""}],error:null,formIsValid:!0,success:!1}},methods:{addEducationRow(){for(const e of this.educationQualification)if(!e.name||""===e.name)return;this.educationQualification.push({name:""})},removeEducationRow(e){this.educationQualification.length>1&&this.educationQualification.splice(e,1)},back(){this.$router.back()},async submitCreate(){const e=[];for(const t of this.educationQualification)e.push(t.name);if(console.log(!this.checkForm()),!this.checkForm())return void(this.formIsValid=!1);const a={name:{firstName:this.firstName,middleName:this.middleName,lastName:this.lastName},email:this.email,password:this.password,role:this.role,phoneNumber:this.phoneNumber||null,age:this.age||null,sex:this.sex||null,educationQualification:e||null,yearOfRegistration:this.yearOfRegistration||null,registrationNumber:this.registrationNumber||null,stateMedicalCouncil:this.stateMedicalCouncil||null};console.log(a)},handleError(){this.error=null},handleSuccess(){this.success=!1},checkForm(){if(this.errors=[],this.firstName&&""!==this.firstName||this.errors.push("First Name is required"),this.lastName&&""!==this.lastName||this.errors.push("Last Name is required"),this.email.includes("@")&&""!==this.email||this.errors.push("email is invalid"),(!this.password||this.password.length<6)&&this.errors.push("email is invalid"),"admin"!==this.role){""!==this.phoneNumber&&10===this.phoneNumber.length||this.errors.push("Phone Number is required"),this.sex&&""!==this.sex||this.errors.push("sex field is required"),this.age&&""!==this.age||this.errors.push("age is required");for(const[e,a]of this.educationQualification.entries())a.name&&""!==a.name||this.errors.push("Education Qualification should not be empty, at index "+(e+1))}return"doctor"===this.role&&(this.yearOfRegistration&&""!==this.yearOfRegistration||this.errors.push("Year Of Registration is required"),this.registrationNumber&&""!==this.registrationNumber||this.errors.push("Registration Number is required"),this.stateMedicalCouncil&&""!==this.stateMedicalCouncil||this.errors.push("State Medical Council is required")),!this.errors.length}}},j=(t(5778),t(1241));const D=(0,j.A)($,[["render",P],["__scopeId","data-v-dc55dbdc"]]);var Y=D},5778:function(e,a,t){var i=t(3877);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var r=t(8459).A;r("a35e4b04",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=6886.913b4d89.js.map