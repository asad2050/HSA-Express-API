(self["webpackChunkhsa_spa"]=self["webpackChunkhsa_spa"]||[]).push([[2771],{5442:function(t,e,o){"use strict";o.r(e);var a=o(1601),r=o.n(a),i=o(6314),n=o.n(i),s=n()(r());s.push([t.id,"a[data-v-3e631473]{text-decoration:none;background:transparent;border:1px solid transparent;cursor:pointer;display:inline-block;color:#000}button[data-v-3e631473]{background-color:var(--primary-color);color:#fff;border:none}button[data-v-3e631473]:active,button[data-v-3e631473]:hover{cursor:pointer;background-color:#1587df}h1[data-v-3e631473]{font-size:var(--h2-laptop);text-align:center;color:#000}#button-container[data-v-3e631473]{width:100%;display:flex;gap:1rem;justify-content:center;align-items:center}.form-control[data-v-3e631473]{margin:.5rem 0;text-align:left}.form-control label[data-v-3e631473]{font-family:Open Sans,sans-serif;font-size:var(--h6-laptop);font-weight:700}form[data-v-3e631473]{width:30rem;gap:1rem}form[data-v-3e631473],section[data-v-3e631473]{display:flex;flex-direction:column;justify-content:center}section[data-v-3e631473]{margin:1rem auto 0;align-items:center;flex:1}.form-container[data-v-3e631473]{padding:1rem;background-color:transparent}.form-control input[data-v-3e631473]{display:block;width:100%;margin-top:.5rem;height:2.5rem;border:2px solid var(--primary-color);padding:1rem;border-radius:8px;font-size:var(--h6-laptop)}input[data-v-3e631473]:focus{background-color:var(--black-5)}",""]),e["default"]=s},2771:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return v}});var a=o(6768),r=o(4232),i=o(5130);const n=t=>((0,a.Qi)("data-v-3e631473"),t=t(),(0,a.jt)(),t),s=n((()=>(0,a.Lk)("h1",null,"Login",-1))),l={class:"form-container"},d={class:"form-control"},c=n((()=>(0,a.Lk)("label",{for:"email"},"Email",-1))),u={class:"form-control"},p=n((()=>(0,a.Lk)("label",{for:"password"},"Password",-1)));function f(t,e,o,n,f,h){const m=(0,a.g2)("base-dialog"),g=(0,a.g2)("base-spinner"),v=(0,a.g2)("base-button"),b=(0,a.g2)("base-button-container"),k=(0,a.g2)("base-card");return(0,a.uX)(),(0,a.CE)("section",null,[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[s,(0,a.bF)(m,{show:!!f.error,title:"An error occurred",onClose:h.handleError},{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,(0,r.v_)(f.error),1)])),_:1},8,["show","onClose"]),(0,a.bF)(m,{show:f.isLoading,title:"Authenticating...",fixed:""},{default:(0,a.k6)((()=>[(0,a.bF)(g)])),_:1},8,["show"]),(0,a.Lk)("div",l,[(0,a.Lk)("form",null,[(0,a.Lk)("div",d,[c,(0,a.bo)((0,a.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>f.email=t)},null,512),[[i.Jo,f.email,void 0,{trim:!0}]])]),(0,a.Lk)("div",u,[p,(0,a.bo)((0,a.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>f.password=t)},null,512),[[i.Jo,f.password,void 0,{trim:!0}]])])]),(0,a.bF)(v,{link:"",mode:"flat",to:"/forgot-password"},{default:(0,a.k6)((()=>[(0,a.eW)("Forgot Password?")])),_:1}),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(v,{mode:"primary",onClick:(0,i.D$)(h.login,["prevent"])},{default:(0,a.k6)((()=>[(0,a.eW)("Login")])),_:1},8,["onClick"]),(0,a.bF)(v,{link:"",mode:"flat",to:"/signup"},{default:(0,a.k6)((()=>[(0,a.eW)("Click here to Signup Instead")])),_:1})])),_:1})])])),_:1})])}var h={data(){return{email:"",password:"",formIsValid:!0,isLoading:!1,error:null}},computed:{redirectUrl(){return this.$store.getters["auth/isPatient"]?"/patient":this.$store.getters["auth/isDoctor"]?"/doctor":this.$store.getters["auth/isAdmin"]?"/admin":"/"}},methods:{async login(){if(this.formIsValid=!0,console.log(this.email),console.log(this.password),""===this.email||!this.email.includes("@")||this.password.length<6)return this.formIsValid=!1,void console.log("Invalid input");this.isLoading=!0;const t={email:this.email,password:this.password};try{await this.$store.dispatch("auth/login",t);let e=this.redirectUrl;this.$router.replace(e)}catch(e){this.error=e.message||"Failed to authenticate, try later."}this.isLoading=!1,this.email="",this.password=null},handleError(){this.error=null}}},m=(o(2785),o(1241));const g=(0,m.A)(h,[["render",f],["__scopeId","data-v-3e631473"]]);var v=g},2785:function(t,e,o){var a=o(5442);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var r=o(8459).A;r("020aa778",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=2771.af448357.js.map