(self["webpackChunkhsa_spa"]=self["webpackChunkhsa_spa"]||[]).push([[5407],{2211:function(t,a,e){"use strict";e.r(a);var o=e(1601),n=e.n(o),r=e(6314),i=e.n(r),s=i()(n());s.push([t.id,"li[data-v-1a6f9aba]{list-style:none;max-width:100%}article h4[data-v-1a6f9aba]{font-size:var(--h5-laptop)}article li[data-v-1a6f9aba]{font-size:var(--h6-laptop);margin:.5rem}span[data-v-1a6f9aba]{font-weight:700}article[data-v-1a6f9aba]{display:flex;flex-direction:column;justify-content:center;align-items:center;border:1px solid #000;border-radius:8px;max-width:100%;padding:1rem}@media (max-width:1200px){article[data-v-1a6f9aba],li[data-v-1a6f9aba]{max-width:100%}article[data-v-1a6f9aba]{padding:.5rem}}@media (max-width:600px){article[data-v-1a6f9aba]{display:grid;justify-items:center;width:100%}.appointmentDetail[data-v-1a6f9aba]{width:100%;padding:0}}h4[data-v-1a6f9aba]{font-size:var(--h5-laptop);margin:1rem}",""]),a["default"]=s},8637:function(t,a,e){"use strict";e.r(a);var o=e(1601),n=e.n(o),r=e(6314),i=e.n(r),s=i()(n());s.push([t.id,"section[data-v-13904bd8]{margin:1rem 2rem;padding:0;display:flex;flex-direction:column;justify-content:space-between;align-items:center;max-width:100%;flex:1}.doctorList[data-v-13904bd8]{width:100%;margin:0}h2[data-v-13904bd8]{font-size:var(--h3-laptop)}h4[data-v-13904bd8]{font-size:var(--h4-laptop);font-size:var(--h5-laptop);text-align:center;margin-right:1rem;color:#000}h5[data-v-13904bd8]{font-size:var(--h6-laptop)}h2[data-v-13904bd8]{font-size:var(--h4-laptop)}.form-control[data-v-13904bd8]{margin:.5rem 0;text-align:left}.form-control label[data-v-13904bd8]{font-family:Open Sans,sans-serif;font-size:var(--h6-laptop);font-weight:700}form[data-v-13904bd8]{display:flex;flex-direction:column;max-width:100%;gap:1rem}.form-container[data-v-13904bd8]{padding:1rem;background-color:transparent}input[data-v-13904bd8],select[data-v-13904bd8]{display:block;width:100%;margin-top:.5rem;height:2.5rem;border:1px solid var(--primary-color);padding:.5rem;border-radius:8px;font-size:var(--h6-laptop)}span[data-v-13904bd8]{font-weight:400}input[data-v-13904bd8]:focus{background-color:var(--black-5)}#validation-message[data-v-13904bd8]{color:red;font-size:var(--h6-laptop)}.heading[data-v-13904bd8]{max-width:100%;display:flex;justify-content:space-around;align-items:center;list-style:none;margin:1rem 0}",""]),a["default"]=s},5407:function(t,a,e){"use strict";e.r(a),e.d(a,{default:function(){return R}});var o=e(6768),n=e(4232),r=e(5130);const i=t=>((0,o.Qi)("data-v-13904bd8"),t=t(),(0,o.jt)(),t),s={class:"error-message"},l={key:0},d=i((()=>(0,o.Lk)("h2",null,"Reports",-1))),p=i((()=>(0,o.Lk)("h4",null,"Search Date or Month",-1))),c={class:"form-container"},h={class:"form-control"},u=i((()=>(0,o.Lk)("label",{for:"date"},"Date",-1))),m={class:"form-control"},f=i((()=>(0,o.Lk)("label",{for:"month"},"Month",-1))),v={key:0,id:"validation-message"},b={key:1,class:"reports-container"},k={class:"heading"},g={key:0},L={key:1};function _(t,a,e,i,_,y){const w=(0,o.g2)("base-dialog"),x=(0,o.g2)("base-spinner"),F=(0,o.g2)("base-button"),C=(0,o.g2)("base-button-container"),A=(0,o.g2)("base-card"),E=(0,o.g2)("ReportItem"),X=(0,o.g2)("base-list");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(w,{show:!!_.error,title:"An error occurred",onClose:y.handleError},{default:(0,o.k6)((()=>[(0,o.Lk)("p",s,(0,n.v_)(_.error),1)])),_:1},8,["show","onClose"]),_.isLoading?((0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(x)])):(0,o.Q3)("",!0),(0,o.Lk)("section",null,[d,(0,o.bF)(A,null,{default:(0,o.k6)((()=>[p,(0,o.Lk)("div",c,[(0,o.Lk)("form",null,[(0,o.Lk)("div",h,[u,(0,o.bo)((0,o.Lk)("input",{type:"date",id:"date","onUpdate:modelValue":a[0]||(a[0]=t=>_.date=t)},null,512),[[r.Jo,_.date,void 0,{trim:!0}]])]),(0,o.Lk)("div",m,[f,(0,o.bo)((0,o.Lk)("input",{type:"month",id:"month","onUpdate:modelValue":a[1]||(a[1]=t=>_.month=t)},null,512),[[r.Jo,_.month,void 0,{trim:!0}]])])]),!t.formIsValid&&this.errors?((0,o.uX)(),(0,o.CE)("div",v,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(this.errors,(t=>((0,o.uX)(),(0,o.CE)("p",{key:t},(0,n.v_)(t),1)))),128))])):(0,o.Q3)("",!0),(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(F,{mode:"primary",onClick:(0,r.D$)(y.search,["prevent"])},{default:(0,o.k6)((()=>[(0,o.eW)("Search")])),_:1},8,["onClick"]),(0,o.bF)(F,{mode:"flat",link:"",to:"/admin"},{default:(0,o.k6)((()=>[(0,o.eW)("Back")])),_:1})])),_:1})])])),_:1})]),this.reports?.doctorList?((0,o.uX)(),(0,o.CE)("section",b,[(0,o.Lk)("div",k,[this.reports?.date?((0,o.uX)(),(0,o.CE)("h4",g,"Date: "+(0,n.v_)(this.reports?.date),1)):(0,o.Q3)("",!0),this.reports?.month?((0,o.uX)(),(0,o.CE)("h4",L," Month: "+(0,n.v_)(this.reports?.month),1)):(0,o.Q3)("",!0),(0,o.Lk)("h4",null,"Total Appointments: "+(0,n.v_)(this.reports?.hospitalTotalAppointments??0),1),(0,o.Lk)("h4",null,"Total Fees: "+(0,n.v_)(this.reports?.totalFeesOfHospital??0)+" Rs.",1)]),this.reports?.doctorList?((0,o.uX)(),(0,o.Wv)(A,{key:0,class:"doctorList"},{default:(0,o.k6)((()=>[(0,o.bF)(X,null,{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(this.reports?.doctorList??[],((t,a)=>((0,o.uX)(),(0,o.Wv)(E,{key:t?._id??a,doctor:t?.doctor??{},totalFees:t?.totalFees??0,index:a,date:this.reports?.date??"",month:this.reports?.month??"",totalPatients:t?.totalPatients??0,totalAppointments:t?.totalAppointments??0},null,8,["doctor","totalFees","index","date","month","totalPatients","totalAppointments"])))),128))])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(F,{link:"",onClick:y.back,mode:"flat"},{default:(0,o.k6)((()=>[(0,o.eW)("Back")])),_:1},8,["onClick"])])):(0,o.Q3)("",!0)],64)}const y=t=>((0,o.Qi)("data-v-1a6f9aba"),t=t(),(0,o.jt)(),t),w=y((()=>(0,o.Lk)("span",null,"Report",-1))),x=y((()=>(0,o.Lk)("span",null,"Doctor:",-1))),F={key:0},C=y((()=>(0,o.Lk)("span",null,"Date:",-1))),A={key:1},E=y((()=>(0,o.Lk)("span",null,"Month:",-1))),X=y((()=>(0,o.Lk)("span",null,"Total Appointments ",-1))),W=y((()=>(0,o.Lk)("span",null,"Total Patients ",-1))),D=y((()=>(0,o.Lk)("span",null,"Total Fees: ",-1)));function T(t,a,e,i,s,l){const d=(0,o.g2)("base-grid"),p=(0,o.g2)("base-button"),c=(0,o.g2)("base-button-container");return(0,o.uX)(),(0,o.CE)("li",null,[(0,o.Lk)("article",null,[(0,o.Lk)("h4",null,[w,(0,o.eW)(),(0,o.bo)((0,o.Lk)("span",null,(0,n.v_)(e.index+1),513),[[r.aG,e.index+1]])]),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.Lk)("li",null,[x,(0,o.eW)(" "+(0,n.v_)(l.getDoctorName),1)]),this.date?((0,o.uX)(),(0,o.CE)("li",F,[C,(0,o.eW)(" "+(0,n.v_)(this.date),1)])):(0,o.Q3)("",!0),this.month?((0,o.uX)(),(0,o.CE)("li",A,[E,(0,o.eW)(" "+(0,n.v_)(this.month),1)])):(0,o.Q3)("",!0),(0,o.Lk)("li",null,[X,(0,o.eW)(" "+(0,n.v_)(l.getTotalAppointments),1)]),(0,o.Lk)("li",null,[W,(0,o.eW)(" "+(0,n.v_)(l.getTotalPatients),1)]),(0,o.Lk)("li",null,[D,(0,o.eW)(" "+(0,n.v_)(l.getTotalFees)+" Rs",1)])])),_:1}),(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(p,{link:"",onClick:l.viewDetail,mode:"primary small"},{default:(0,o.k6)((()=>[(0,o.eW)("View Detail")])),_:1},8,["onClick"])])),_:1})])])}var z={props:["doctor","totalAppointments","totalFees","date","month","totalPatients","index"],computed:{getDoctorName(){return this.doctor?.owner&&this.doctor?.owner?.name?this.doctor.owner?.name?.firstName+" "+this.doctor.owner?.name?.middleName+" "+this.doctor.owner?.name?.lastName:this.doctor?.name?this.doctor.name?.firstName+" "+this.doctor.name?.middleName+" "+this.doctor.name?.lastName:"N/A"},getTotalAppointments(){return this.totalAppointments},getTotalPatients(){return this.totalPatients},getTotalFees(){return this.totalFees}},methods:{viewDetail(){this.$router.replace({path:`/admin/report/${this.doctor?._id??""}`,query:{date:this.date,month:this.month}})}}},M=(e(3470),e(1241));const Q=(0,M.A)(z,[["render",T],["__scopeId","data-v-1a6f9aba"]]);var N=Q,P={components:{ReportItem:N},data(){return{error:null,isLoading:!1,success:!1,date:"",month:"",reports:null}},computed:{},methods:{async search(){this.isLoading=!0;const t={month:this.month,date:this.date};try{await this.$store.dispatch("admin/fetchReports",t),this.reports=this.$store.getters["admin/reports"]}catch(a){this.error=a}this.isLoading=!1},handleError(){this.error=null},back(){this.$router.back()}}};e(1152);const I=(0,M.A)(P,[["render",_],["__scopeId","data-v-13904bd8"]]);var R=I},3470:function(t,a,e){var o=e(2211);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var n=e(8459).A;n("19881a59",o,!0,{sourceMap:!1,shadowMode:!1})},1152:function(t,a,e){var o=e(8637);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var n=e(8459).A;n("0b29c81b",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=5407.af37134c.js.map