(self["webpackChunkhsa_spa"]=self["webpackChunkhsa_spa"]||[]).push([[1700],{4515:function(t,e,a){"use strict";a.r(e);var i=a(1601),n=a.n(i),o=a(6314),s=a.n(o),r=s()(n());r.push([t.id,".appointmentDetail[data-v-c245967c]{list-style:none;max-width:100%}article[data-v-c245967c]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fff;border:1px solid var(--black);max-width:100%;max-height:32rem;padding:1rem;border-radius:8px}@media (max-width:1200px){.appointmentDetail[data-v-c245967c],article[data-v-c245967c]{max-width:100%}article[data-v-c245967c]{padding:.5rem}}@media (max-width:600px){article[data-v-c245967c]{display:grid;justify-items:center;width:100%}.appointmentDetail[data-v-c245967c]{width:100%;padding:0}}h4[data-v-c245967c]{font-size:var(--h5-laptop)}",""]),e["default"]=r},8745:function(t,e,a){"use strict";a.r(e);var i=a(1601),n=a.n(i),o=a(6314),s=a.n(o),r=s()(n());r.push([t.id,"li[data-v-4cbb923c]{max-width:100%}article ul[data-v-4cbb923c],li[data-v-4cbb923c]{list-style:none}article ul[data-v-4cbb923c]{display:grid;grid-template-columns:1fr 1fr;justify-content:space-between;align-items:center}article li[data-v-4cbb923c]{font-size:var(--h5-laptop);padding:.5rem;text-align:left}span[data-v-4cbb923c]{font-weight:700}article[data-v-4cbb923c]{display:flex;flex-direction:column;justify-content:center;align-items:center;border:1px solid #000;border-radius:8px;max-width:100%;max-height:32rem;padding:1rem}@media (max-width:1200px){.appointmentDetail[data-v-4cbb923c],article[data-v-4cbb923c]{max-width:100%}article[data-v-4cbb923c]{padding:.5rem}}@media (max-width:600px){article[data-v-4cbb923c]{display:grid;justify-items:center;width:100%}.appointmentDetail[data-v-4cbb923c]{width:100%;padding:0}}h4[data-v-4cbb923c]{font-size:var(--h5-laptop)}",""]),e["default"]=r},6379:function(t,e,a){"use strict";a.r(e);var i=a(1601),n=a.n(i),o=a(6314),s=a.n(o),r=s()(n());r.push([t.id,"section[data-v-5aac3bb2]{margin:1rem 2rem;padding:0;flex-direction:column;flex:1}.heading[data-v-5aac3bb2],section[data-v-5aac3bb2]{display:flex;align-items:center;max-width:100%}.heading[data-v-5aac3bb2]{justify-content:space-around;list-style:none;margin:1rem 0}.heading li[data-v-5aac3bb2]{margin-right:1rem;max-width:100%;font-size:var(--h5-laptop)}.form-control[data-v-5aac3bb2]{margin:.5rem 0;text-align:left}.form-control label[data-v-5aac3bb2]{font-family:Open Sans,sans-serif;font-size:var(--h6-laptop);font-weight:700}form[data-v-5aac3bb2]{display:flex;flex-direction:column;max-width:100%;gap:1rem}.form-container[data-v-5aac3bb2]{padding:1rem;background-color:transparent}input[data-v-5aac3bb2],select[data-v-5aac3bb2]{display:block;width:100%;margin-top:.5rem;height:2.5rem;border:1px solid var(--primary-color);padding:.5rem;border-radius:8px;font-size:var(--h6-laptop)}span[data-v-5aac3bb2]{font-weight:400}input[data-v-5aac3bb2]:focus{background-color:var(--black-5)}#validation-message[data-v-5aac3bb2]{color:red;font-size:var(--h6-laptop)}",""]),e["default"]=r},6649:function(t,e,a){"use strict";a.d(e,{A:function(){return p}});var i=a(6768),n=a(4232),o=a(5130);const s={class:"appointmentDetail"};function r(t,e,a,r,l,d){const u=(0,i.g2)("card-details-grid-element"),c=(0,i.g2)("base-grid"),p=(0,i.g2)("base-button"),m=(0,i.g2)("base-button-container");return(0,i.uX)(),(0,i.CE)("li",s,[(0,i.Lk)("article",null,[(0,i.Lk)("h4",null,[(0,i.eW)(" Appointment "),(0,i.bo)((0,i.Lk)("span",null,(0,n.v_)(a.index+1),513),[[o.aG,a.index+1]])]),(0,i.bF)(c,null,{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("Doctor: "+(0,n.v_)(d.getDoctorName),1)])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("Patient: "+(0,n.v_)(d.getPatientName),1)])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("Start: "+(0,n.v_)(d.getStartTime),1)])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("Date: "+(0,n.v_)(this.date),1)])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("Address: "+(0,n.v_)(d.getHospitalAddress),1)])),_:1}),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("Status: "+(0,n.v_)(this.status),1)])),_:1}),this.fees?((0,i.uX)(),(0,i.Wv)(u,{key:0},{default:(0,i.k6)((()=>[(0,i.eW)("Total Fees: "+(0,n.v_)(d.getTotalAmount),1)])),_:1})):(0,i.Q3)("",!0),(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("Duration: "+(0,n.v_)(this.duration)+" minutes",1)])),_:1})])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(p,{link:"",to:d.appointmentDetailsLink,mode:"primary"},{default:(0,i.k6)((()=>[(0,i.eW)("View Detail")])),_:1},8,["to"]),d.isAdmin?((0,i.uX)(),(0,i.Wv)(p,{key:0,class:(0,n.C4)({disable:"approve"===l.disableButton}),onClick:e[0]||(e[0]=t=>d.approve(this.id)),mode:"outline"},{default:(0,i.k6)((()=>[(0,i.eW)("Approve")])),_:1},8,["class"])):(0,i.Q3)("",!0),d.isAdmin?((0,i.uX)(),(0,i.Wv)(p,{key:1,class:(0,n.C4)({disable:"cancel"===l.disableButton}),onClick:e[1]||(e[1]=t=>d.cancel(this.id)),mode:"outline"},{default:(0,i.k6)((()=>[(0,i.eW)("Cancel")])),_:1},8,["class"])):(0,i.Q3)("",!0),d.isDoctor?((0,i.uX)(),(0,i.Wv)(p,{key:2,link:"",to:d.appointmentConsultDetailsLink,mode:"outline"},{default:(0,i.k6)((()=>[(0,i.eW)("Consult(Doctor)")])),_:1},8,["to"])):(0,i.Q3)("",!0),d.isDoctor||d.isAdmin?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(p,{key:3,button:"",mode:"flat"},{default:(0,i.k6)((()=>[(0,i.eW)("Notify me")])),_:1}))])),_:1})])])}var l=a(4116),d={props:["id","doctorName","patientName","index","duration","startTime","date","status","hospitalAddress","fees"],data(){return{disableButton:null}},computed:{getTotalAmount(){return this.fees?.getTotalAmount??0},appointmentDetailsLink(){return this.isAdmin&&this.id?"/admin/appointments/"+this.id:this.isDoctor&&this.id?"/doctor/appointments/"+this.id:"/patient/appointments"===this.$route.path||"/doctor/appointments"===this.$route.path||"/doctor/appointments"===this.$route.path?this.$route.path+"/"+this.id:this.$route.path+"/appointments/"+this.id},appointmentConsultDetailsLink(){return"/doctor/consult/"+this.id??""},getHospitalAddress(){return(this.hospitalAddress?.streetAddress?.[0]??"")+(this.hospitalAddress?.streetAddress?.[1]??"")+(this.hospitalAddress?.city??"")},getStartTime(){if(this.startTime){const t=l.c9.fromFormat(this.startTime,"HH:mm",{zone:"Asia/Kolkata"});return t.toLocaleString({hour:"numeric",minute:"2-digit"}).toLowerCase()}return"Not available"},getDuration(){return this.duration+" Minutes"},getDoctorName(){return"doctor: "+(this.doctorName??"")},getPatientName(){return"patient: "+(this.patientName??"Unknown")},isDoctor(){return this.$store.getters["auth/isDoctor"]},isAdmin(){return this.$store.getters["auth/isAdmin"]}},methods:{approve(t){this.setDisableButton("approve"),this.$emit("approve",t)},cancel(t){this.setDisableButton("cancel"),this.$emit("cancel",t)},setDisableButton(t){this.disableButton===t?this.disableButton=null:this.disableButton=t}}},u=(a(5294),a(1241));const c=(0,u.A)(d,[["render",r],["__scopeId","data-v-c245967c"]]);var p=c},1766:function(t,e,a){"use strict";a.d(e,{A:function(){return d}});var i=a(6768);function n(t,e,a,n,o,s){const r=(0,i.g2)("AppointmentItem"),l=(0,i.g2)("base-list"),d=(0,i.g2)("base-card");return(0,i.uX)(),(0,i.Wv)(d,null,{default:(0,i.k6)((()=>[(0,i.bF)(l,null,{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(this.appointments,((t,e)=>((0,i.uX)(),(0,i.Wv)(r,{key:t.id,onApprove:s.approve,onCancel:s.cancel,id:t.id,doctorName:t.doctorName,patientName:t.patientName,index:e,duration:t.duration,startTime:t.startTime,date:t.date,status:t.status,hospitalAddress:t.hospitalAddress,fees:t.fees},null,8,["onApprove","onCancel","id","doctorName","patientName","index","duration","startTime","date","status","hospitalAddress","fees"])))),128))])),_:1})])),_:1})}var o=a(6649),s={props:["appointments"],components:{AppointmentItem:o.A},data(){return{}},methods:{cat(){console.log(this.appointments)},approve(t){this.$emit("approveTop",t)},cancel(t){this.$emit("cancelTop",t)}}},r=a(1241);const l=(0,r.A)(s,[["render",n]]);var d=l},4673:function(t,e,a){"use strict";a.d(e,{A:function(){return v}});var i=a(6768),n=a(4232),o=a(5130);const s=t=>((0,i.Qi)("data-v-4cbb923c"),t=t(),(0,i.jt)(),t),r=s((()=>(0,i.Lk)("span",null,"Patient:",-1))),l=s((()=>(0,i.Lk)("span",null,"Name:",-1))),d=s((()=>(0,i.Lk)("span",null,"Email: ",-1))),u=s((()=>(0,i.Lk)("span",null,"Phone No.: ",-1))),c=s((()=>(0,i.Lk)("span",null,"Age:",-1))),p=s((()=>(0,i.Lk)("span",null,"Sex:",-1)));function m(t,e,a,s,m,h){const b=(0,i.g2)("base-button"),f=(0,i.g2)("base-button-container");return(0,i.uX)(),(0,i.CE)("li",null,[(0,i.Lk)("article",null,[(0,i.Lk)("h4",null,[r,(0,i.eW)(),(0,i.bo)((0,i.Lk)("span",null,(0,n.v_)(a.index+1),513),[[o.aG,a.index+1]])]),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,[l,(0,i.eW)((0,n.v_)(h.getName),1)]),(0,i.Lk)("li",null,[d,(0,i.eW)((0,n.v_)(h.getEmail),1)]),(0,i.Lk)("li",null,[u,(0,i.eW)((0,n.v_)(h.getPhoneNumber),1)]),(0,i.Lk)("li",null,[c,(0,i.eW)(" "+(0,n.v_)(h.getAge),1)]),(0,i.Lk)("li",null,[p,(0,i.eW)(" "+(0,n.v_)(h.getSex),1)])]),(0,i.bF)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(b,{link:"",to:h.viewDetail,mode:"primary"},{default:(0,i.k6)((()=>[(0,i.eW)("View Detail")])),_:1},8,["to"]),(0,i.bF)(b,{mode:"outline",onClick:h.back},{default:(0,i.k6)((()=>[(0,i.eW)("Back")])),_:1},8,["onClick"])])),_:1})])])}var h={props:["message","name","index","email","id","phoneNumber","age","sex"],methods:{back(){this.$router.back()}},computed:{viewDetail(){return this.$store.getters["auth/isDoctor"]?`/doctor/patients/${this.id}`:this.$store.getters["auth/isAdmin"]?`/admin/patients/${this.id}`:`${this.$route.path}/patients/${this.id??""}`},getName(){return`${this.name?.firstName??""} ${this.name?.middleName??""} ${this.name?.lastName??""}`.trim()},getEmail(){return this.email??""},getAge(){return this.age??""},getSex(){return this.sex??" "},getPhoneNumber(){return this.phoneNumber??""}}},b=(a(518),a(1241));const f=(0,b.A)(h,[["render",m],["__scopeId","data-v-4cbb923c"]]);var v=f},1700:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return $}});var i=a(6768),n=a(5130),o=a(4232);const s=t=>((0,i.Qi)("data-v-5aac3bb2"),t=t(),(0,i.jt)(),t),r=s((()=>(0,i.Lk)("h2",null,"Reports",-1))),l=s((()=>(0,i.Lk)("h4",null,"Search Date or Month",-1))),d={class:"form-container"},u={class:"form-control"},c=s((()=>(0,i.Lk)("label",{for:"date"},"Date",-1))),p={class:"form-control"},m=s((()=>(0,i.Lk)("label",{for:"month"},"Month",-1))),h={key:0,id:"validation-message"},b={key:0},f={class:"heading"},v=s((()=>(0,i.Lk)("span",null,"Total Appointments ",-1))),g=s((()=>(0,i.Lk)("span",null,"Total Patients ",-1))),k=s((()=>(0,i.Lk)("span",null,"Total Fees: ",-1))),_={key:1,class:"appointment-row-container"},x=s((()=>(0,i.Lk)("h2",null,"Appointment List List",-1))),L={key:0},A={key:2},y=s((()=>(0,i.Lk)("h2",null,"Patient List",-1))),N={key:0};function w(t,e,a,s,w,W){const D=(0,i.g2)("base-button"),C=(0,i.g2)("base-button-container"),F=(0,i.g2)("base-card"),T=(0,i.g2)("TheAppointmentsRow"),$=(0,i.g2)("PatientItem"),X=(0,i.g2)("base-staff-list");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("section",null,[r,(0,i.bF)(F,null,{default:(0,i.k6)((()=>[l,(0,i.Lk)("div",d,[(0,i.Lk)("form",null,[(0,i.Lk)("div",u,[c,(0,i.bo)((0,i.Lk)("input",{type:"date",id:"date","onUpdate:modelValue":e[0]||(e[0]=t=>w.date=t)},null,512),[[n.Jo,w.date,void 0,{trim:!0}]])]),(0,i.Lk)("div",p,[m,(0,i.bo)((0,i.Lk)("input",{type:"month",id:"month","onUpdate:modelValue":e[1]||(e[1]=t=>w.month=t)},null,512),[[n.Jo,w.month,void 0,{trim:!0}]])])]),!w.formIsValid&&this.errors?((0,i.uX)(),(0,i.CE)("div",h,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(this.errors,(t=>((0,i.uX)(),(0,i.CE)("p",{key:t},(0,o.v_)(t),1)))),128))])):(0,i.Q3)("",!0),(0,i.bF)(C,null,{default:(0,i.k6)((()=>[(0,i.bF)(D,{mode:"primary",onClick:(0,n.D$)(W.search,["prevent"])},{default:(0,i.k6)((()=>[(0,i.eW)("Search")])),_:1},8,["onClick"]),(0,i.bF)(D,{mode:"flat",link:"",to:"/doctor"},{default:(0,i.k6)((()=>[(0,i.eW)("Back")])),_:1})])),_:1})])])),_:1})]),this.report?((0,i.uX)(),(0,i.CE)("section",b,[(0,i.Lk)("div",f,[(0,i.Lk)("li",null,[v,(0,i.eW)(" "+(0,o.v_)(W.getTotalAppointments),1)]),(0,i.Lk)("li",null,[g,(0,i.eW)(" "+(0,o.v_)(W.getTotalPatients),1)]),(0,i.Lk)("li",null,[k,(0,i.eW)(" "+(0,o.v_)(W.getTotalFees)+" Rs",1)])])])):(0,i.Q3)("",!0),this.report&&W.appointments?((0,i.uX)(),(0,i.CE)("section",_,[x,0===W.appointments?.length?((0,i.uX)(),(0,i.CE)("p",L," No Appointments has been found for this time frame. ")):(0,i.Q3)("",!0),W.appointments?.length>0?((0,i.uX)(),(0,i.Wv)(T,{key:1,appointments:W.appointments},null,8,["appointments"])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),this.report&&W.patientList?((0,i.uX)(),(0,i.CE)("section",A,[y,0===W.patientList?.length?((0,i.uX)(),(0,i.CE)("p",N," No Patient List has been found for this time frame. ")):(0,i.Q3)("",!0),W.patientList?.length>0?((0,i.uX)(),(0,i.Wv)(F,{key:1},{default:(0,i.k6)((()=>[(0,i.bF)(X,null,{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(W.patientList,((t,e)=>((0,i.uX)(),(0,i.Wv)($,{key:t.id,id:t.id,age:t.age,sex:t.sex,name:t.name,email:t.email,phoneNumber:t.phoneNumber,index:e},null,8,["id","age","sex","name","email","phoneNumber","index"])))),128))])),_:1})])),_:1})):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)],64)}a(4114);var W=a(1766),D=a(4673),C={components:{TheAppointmentsRow:W.A,PatientItem:D.A},data(){return{report:null,errors:[],formIsValid:!0,date:"",month:""}},computed:{getTotalAppointments(){return this.report?.totalAppointments??0},getTotalPatients(){return this.report.totalPatients??0},getTotalFees(){return this.report.totalFees??0},patientList(){const t=[];if(this.report){const e=this.report.patientList??[];if(e)for(const a of e){const e={name:a.name??"",email:a.owner?.email??"",phoneNumber:a.phoneNumber??"",age:a.age??"",sex:a.sex??"",id:a._id??""};t.push(e)}}return t},appointments(){const t=[];if(this.report){const e=this.report.appointments??[];if(e)for(const a of e){const e={id:a._id??"",patientName:a.patientName??"",doctorName:a.doctorName??"",date:a.ISTDateString??"",startTime:a.startTime??"",hospitalAddress:a.hospitalAddress??null,duration:a.duration??null,hospitalName:a.hospitalName??"",status:a.status??"pending"};t.push(e)}}return t}},methods:{async search(){this.isLoading=!0;const t={month:this.month,date:this.date};try{await this.$store.dispatch("doctor/fetchReportDetails",t),this.report=this.$store.getters["doctor/reportDetails"]}catch(e){this.error=e}this.isLoading=!1},handleError(){this.error=null},back(){this.$router.back()}}},F=(a(192),a(1241));const T=(0,F.A)(C,[["render",w],["__scopeId","data-v-5aac3bb2"]]);var $=T},5294:function(t,e,a){var i=a(4515);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var n=a(8459).A;n("62d0b1f0",i,!0,{sourceMap:!1,shadowMode:!1})},518:function(t,e,a){var i=a(8745);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var n=a(8459).A;n("71398b5e",i,!0,{sourceMap:!1,shadowMode:!1})},192:function(t,e,a){var i=a(6379);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var n=a(8459).A;n("333e0b9e",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=1700.43190a9a.js.map