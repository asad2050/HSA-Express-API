(self["webpackChunkhsa_spa"]=self["webpackChunkhsa_spa"]||[]).push([[1776],{4515:function(t,e,a){"use strict";a.r(e);var n=a(1601),i=a.n(n),o=a(6314),s=a.n(o),r=s()(i());r.push([t.id,".appointmentDetail[data-v-c245967c]{list-style:none;max-width:100%}article[data-v-c245967c]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fff;border:1px solid var(--black);max-width:100%;max-height:32rem;padding:1rem;border-radius:8px}@media (max-width:1200px){.appointmentDetail[data-v-c245967c],article[data-v-c245967c]{max-width:100%}article[data-v-c245967c]{padding:.5rem}}@media (max-width:600px){article[data-v-c245967c]{display:grid;justify-items:center;width:100%}.appointmentDetail[data-v-c245967c]{width:100%;padding:0}}h4[data-v-c245967c]{font-size:var(--h5-laptop)}",""]),e["default"]=r},1275:function(t,e,a){"use strict";a.r(e);var n=a(1601),i=a.n(n),o=a(6314),s=a.n(o),r=s()(i());r.push([t.id,".main-section[data-v-cfe4b292]{display:flex;justify-content:space-between;align-items:center;margin:5rem 4rem 0;padding:5rem 0}h2[data-v-cfe4b292]{font-size:var(--h4-laptop);margin-bottom:3rem}.main-section .appointment-container[data-v-cfe4b292]{max-width:100%;list-style:none;margin:0;padding:0}section[data-v-cfe4b292]{border-bottom:1px solid var(--black-10);flex:1}h1[data-v-cfe4b292]{font-size:var(--h3-laptop)}h4[data-v-cfe4b292]{font-size:var(--h5-laptop)}.appointment-row-container[data-v-cfe4b292]{padding:4rem 2rem;max-width:100%}.appointment-row-container p[data-v-cfe4b292]{display:inline-block;text-align:justify;font-family:Domine,sans-serif;font-size:var(--h6-laptop);color:var(--black);font-weight:300;line-height:145%}@media (max-width:1200px){.appointment-row-container[data-v-cfe4b292]{max-width:100%}}",""]),e["default"]=r},6649:function(t,e,a){"use strict";a.d(e,{A:function(){return p}});var n=a(6768),i=a(4232),o=a(5130);const s={class:"appointmentDetail"};function r(t,e,a,r,d,l){const u=(0,n.g2)("card-details-grid-element"),c=(0,n.g2)("base-grid"),p=(0,n.g2)("base-button"),m=(0,n.g2)("base-button-container");return(0,n.uX)(),(0,n.CE)("li",s,[(0,n.Lk)("article",null,[(0,n.Lk)("h4",null,[(0,n.eW)(" Appointment "),(0,n.bo)((0,n.Lk)("span",null,(0,i.v_)(a.index+1),513),[[o.aG,a.index+1]])]),(0,n.bF)(c,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)("Doctor: "+(0,i.v_)(l.getDoctorName),1)])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)("Patient: "+(0,i.v_)(l.getPatientName),1)])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)("Start: "+(0,i.v_)(l.getStartTime),1)])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)("Date: "+(0,i.v_)(this.date),1)])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)("Address: "+(0,i.v_)(l.getHospitalAddress),1)])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)("Status: "+(0,i.v_)(this.status),1)])),_:1}),this.fees?((0,n.uX)(),(0,n.Wv)(u,{key:0},{default:(0,n.k6)((()=>[(0,n.eW)("Total Fees: "+(0,i.v_)(l.getTotalAmount),1)])),_:1})):(0,n.Q3)("",!0),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)("Duration: "+(0,i.v_)(this.duration)+" minutes",1)])),_:1})])),_:1}),(0,n.bF)(m,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,{link:"",to:l.appointmentDetailsLink,mode:"primary"},{default:(0,n.k6)((()=>[(0,n.eW)("View Detail")])),_:1},8,["to"]),l.isAdmin?((0,n.uX)(),(0,n.Wv)(p,{key:0,class:(0,i.C4)({disable:"approve"===d.disableButton}),onClick:e[0]||(e[0]=t=>l.approve(this.id)),mode:"outline"},{default:(0,n.k6)((()=>[(0,n.eW)("Approve")])),_:1},8,["class"])):(0,n.Q3)("",!0),l.isAdmin?((0,n.uX)(),(0,n.Wv)(p,{key:1,class:(0,i.C4)({disable:"cancel"===d.disableButton}),onClick:e[1]||(e[1]=t=>l.cancel(this.id)),mode:"outline"},{default:(0,n.k6)((()=>[(0,n.eW)("Cancel")])),_:1},8,["class"])):(0,n.Q3)("",!0),l.isDoctor?((0,n.uX)(),(0,n.Wv)(p,{key:2,link:"",to:l.appointmentConsultDetailsLink,mode:"outline"},{default:(0,n.k6)((()=>[(0,n.eW)("Consult(Doctor)")])),_:1},8,["to"])):(0,n.Q3)("",!0),l.isDoctor||l.isAdmin?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(p,{key:3,button:"",mode:"flat"},{default:(0,n.k6)((()=>[(0,n.eW)("Notify me")])),_:1}))])),_:1})])])}var d=a(4116),l={props:["id","doctorName","patientName","index","duration","startTime","date","status","hospitalAddress","fees"],data(){return{disableButton:null}},computed:{getTotalAmount(){return this.fees?.getTotalAmount??0},appointmentDetailsLink(){return this.isAdmin&&this.id?"/admin/appointments/"+this.id:this.isDoctor&&this.id?"/doctor/appointments/"+this.id:"/patient/appointments"===this.$route.path||"/doctor/appointments"===this.$route.path||"/doctor/appointments"===this.$route.path?this.$route.path+"/"+this.id:this.$route.path+"/appointments/"+this.id},appointmentConsultDetailsLink(){return"/doctor/consult/"+this.id??""},getHospitalAddress(){return(this.hospitalAddress?.streetAddress?.[0]??"")+(this.hospitalAddress?.streetAddress?.[1]??"")+(this.hospitalAddress?.city??"")},getStartTime(){if(this.startTime){const t=d.c9.fromFormat(this.startTime,"HH:mm",{zone:"Asia/Kolkata"});return t.toLocaleString({hour:"numeric",minute:"2-digit"}).toLowerCase()}return"Not available"},getDuration(){return this.duration+" Minutes"},getDoctorName(){return"doctor: "+(this.doctorName??"")},getPatientName(){return"patient: "+(this.patientName??"Unknown")},isDoctor(){return this.$store.getters["auth/isDoctor"]},isAdmin(){return this.$store.getters["auth/isAdmin"]}},methods:{approve(t){this.setDisableButton("approve"),this.$emit("approve",t)},cancel(t){this.setDisableButton("cancel"),this.$emit("cancel",t)},setDisableButton(t){this.disableButton===t?this.disableButton=null:this.disableButton=t}}},u=(a(5294),a(1241));const c=(0,u.A)(l,[["render",r],["__scopeId","data-v-c245967c"]]);var p=c},1766:function(t,e,a){"use strict";a.d(e,{A:function(){return l}});var n=a(6768);function i(t,e,a,i,o,s){const r=(0,n.g2)("AppointmentItem"),d=(0,n.g2)("base-list"),l=(0,n.g2)("base-card");return(0,n.uX)(),(0,n.Wv)(l,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.appointments,((t,e)=>((0,n.uX)(),(0,n.Wv)(r,{key:t.id,onApprove:s.approve,onCancel:s.cancel,id:t.id,doctorName:t.doctorName,patientName:t.patientName,index:e,duration:t.duration,startTime:t.startTime,date:t.date,status:t.status,hospitalAddress:t.hospitalAddress,fees:t.fees},null,8,["onApprove","onCancel","id","doctorName","patientName","index","duration","startTime","date","status","hospitalAddress","fees"])))),128))])),_:1})])),_:1})}var o=a(6649),s={props:["appointments"],components:{AppointmentItem:o.A},data(){return{}},methods:{cat(){console.log(this.appointments)},approve(t){this.$emit("approveTop",t)},cancel(t){this.$emit("cancelTop",t)}}},r=a(1241);const d=(0,r.A)(s,[["render",i]]);var l=d},1776:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return A}});var n=a(6768),i=a(4232);const o=t=>((0,n.Qi)("data-v-cfe4b292"),t=t(),(0,n.jt)(),t),s={class:"error-message"},r={key:0},d={key:1},l=o((()=>(0,n.Lk)("h2",null,"No current appointment for you to consult at this time",-1))),u=[l],c={key:2,class:"appointment-row-container"},p=o((()=>(0,n.Lk)("h1",null,"Your Appointments",-1))),m={key:0};function h(t,e,a,o,l,h){const f=(0,n.g2)("base-dialog"),g=(0,n.g2)("base-spinner"),v=(0,n.g2)("TheAppointmentsRow");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(f,{show:!!l.error,mode:"error",title:"An error occurred",onClose:h.handleError},{default:(0,n.k6)((()=>[(0,n.Lk)("p",s,(0,i.v_)(l.error),1)])),_:1},8,["show","onClose"]),l.isLoading?((0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(g)])):(0,n.Q3)("",!0),h.shift?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("section",d,u)),h.shift?((0,n.uX)(),(0,n.CE)("section",c,[p,(0,n.Lk)("h4",null,"Date:"+(0,i.v_)(h.getDate??"N/A")+" Shift:"+(0,i.v_)(h.getShift??"N/A"),1),0===h.appointments?.length?((0,n.uX)(),(0,n.CE)("p",m," No Appointments. Book one by clicking on book appointment button. ")):((0,n.uX)(),(0,n.Wv)(v,{key:1,appointments:h.appointments},null,8,["appointments"]))])):(0,n.Q3)("",!0)],64)}a(4114);var f=a(1766),g=a(4116),v={components:{TheAppointmentsRow:f.A},data(){return{patientName:"",isLoading:!1,error:null}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},shift(){return this.$store.getters["doctor/todayAppointments"]?.length??0},appointments(){const t=this.$store.getters["doctor/todayAppointments"],e=g.c9.fromJSDate(new Date,{zone:"Asia/Kolkata"}).toJSDate().toISOString(),a=[];if(!t||0===t.length)return null;for(const n of t){const t={id:n?._id??"",patientName:n?.patientName??"",doctorName:n.doctorName??"",date:n?.ISTDateString??"",startTime:n?.startTime??"",hospitalAddress:n?.hospitalAddress??null,duration:n?.duration??null,hospitalName:n?.hospitalName??"",status:n?.status??"pending"};e>n.bookingDateTime&&a.push(t)}return a},nextAppointment(){const t=this.$store.getters["doctor/currentPatientRecentAppointments"][0];if(!t)return null;const e={id:t?._id??"",patientName:t?.patientName??"",doctorName:t.doctorName??"",date:t?.ISTDateString??"",startTime:t?.startTime??"",hospitalAddress:t?.hospitalAddress??null,duration:t?.duration??null,hospitalName:t?.hospitalName??"",status:t?.status??"pending"};return e},getShift(){const t=this.$store.getters["doctor/todaySchedule"].shift??{};if(!t||t.startTime||t.endTime)return"";const e=g.c9.fromFormat(t.startTime,"HH:mm",{zone:"Asia/Kolkata"}).toLocaleString({hour:"numeric",minute:"2-digit"}).toLowerCase(),a=g.c9.fromFormat(t.endTime,"HH:mm",{zone:"Asia/Kolkata"}).toLocaleString({hour:"numeric",minute:"2-digit"}).toLowerCase();return`${e} - ${a}`},getDate(){const t=this.$store.getters["doctor/todaySchedule"]?.date;if(!t)return null;const e=g.c9.fromFormat(t,"yyyy-MM-dd",{zone:"Asia/Kolkata"}).toLocaleString();return e}},methods:{async loadScheduleAppointments(){this.isLoading=!0,this.error=null;try{await this.$store.dispatch("doctor/fetchConsult")}catch(t){this.error=t.message||"Something went wrong!"}this.isLoading=!1},handleError(){this.error=null}},created(){this.loadScheduleAppointments()}},b=(a(2868),a(1241));const k=(0,b.A)(v,[["render",h],["__scopeId","data-v-cfe4b292"]]);var A=k},5294:function(t,e,a){var n=a(4515);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var i=a(8459).A;i("62d0b1f0",n,!0,{sourceMap:!1,shadowMode:!1})},2868:function(t,e,a){var n=a(1275);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var i=a(8459).A;i("3044cbc2",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=1776.c02fe7d0.js.map