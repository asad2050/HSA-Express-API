(self["webpackChunkhsa_spa"]=self["webpackChunkhsa_spa"]||[]).push([[5143],{4515:function(t,e,n){"use strict";n.r(e);var a=n(1601),i=n.n(a),o=n(6314),s=n.n(o),r=s()(i());r.push([t.id,".appointmentDetail[data-v-c245967c]{list-style:none;max-width:100%}article[data-v-c245967c]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fff;border:1px solid var(--black);max-width:100%;max-height:32rem;padding:1rem;border-radius:8px}@media (max-width:1200px){.appointmentDetail[data-v-c245967c],article[data-v-c245967c]{max-width:100%}article[data-v-c245967c]{padding:.5rem}}@media (max-width:600px){article[data-v-c245967c]{display:grid;justify-items:center;width:100%}.appointmentDetail[data-v-c245967c]{width:100%;padding:0}}h4[data-v-c245967c]{font-size:var(--h5-laptop)}",""]),e["default"]=r},9334:function(t,e,n){"use strict";n.r(e);var a=n(1601),i=n.n(a),o=n(6314),s=n.n(o),r=s()(i());r.push([t.id,".main-section[data-v-d75f3d62]{display:flex;justify-content:space-between;align-items:center;margin:5rem 4rem 0;padding:5rem 0}.main-section .appointment-container[data-v-d75f3d62]{max-width:100%;list-style:none;margin:0;padding:0}section[data-v-d75f3d62]{border-bottom:1px solid var(--black-10)}.CTA-container[data-v-d75f3d62]{padding:2rem 0;max-width:100%;display:flex;flex-direction:column}.CTA-container p[data-v-d75f3d62]{display:inline-block;text-align:justify;font-family:Open Sans,sans-serif;color:var(--black);font-weight:300;line-height:145%}.CTA-container p[data-v-d75f3d62],h2[data-v-d75f3d62]{font-size:var(--h4-laptop)}h2[data-v-d75f3d62]{margin-bottom:3rem}.appointment-row-container[data-v-d75f3d62]{padding:4rem 2rem;max-width:100%}.appointment-row-container p[data-v-d75f3d62]{display:inline-block;text-align:justify;font-family:Domine,sans-serif;font-size:var(--h6-laptop);color:var(--black);font-weight:300;line-height:145%}@media (max-width:1200px){.main-section[data-v-d75f3d62]{flex-direction:column-reverse}.appointment-row-container[data-v-d75f3d62]{max-width:100%}}@media (max-width:600px){.main-section[data-v-d75f3d62]{margin:4rem 1rem 0}.main-section[data-v-d75f3d62],.main-section .CTA-container[data-v-d75f3d62]{padding:1rem 0}}",""]),e["default"]=r},6649:function(t,e,n){"use strict";n.d(e,{A:function(){return u}});var a=n(6768),i=n(4232),o=n(5130);const s={class:"appointmentDetail"};function r(t,e,n,r,d,p){const l=(0,a.g2)("card-details-grid-element"),m=(0,a.g2)("base-grid"),u=(0,a.g2)("base-button"),c=(0,a.g2)("base-button-container");return(0,a.uX)(),(0,a.CE)("li",s,[(0,a.Lk)("article",null,[(0,a.Lk)("h4",null,[(0,a.eW)(" Appointment "),(0,a.bo)((0,a.Lk)("span",null,(0,i.v_)(n.index+1),513),[[o.aG,n.index+1]])]),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Doctor: "+(0,i.v_)(p.getDoctorName),1)])),_:1}),(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Patient: "+(0,i.v_)(p.getPatientName),1)])),_:1}),(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Start: "+(0,i.v_)(p.getStartTime),1)])),_:1}),(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Date: "+(0,i.v_)(this.date),1)])),_:1}),(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Address: "+(0,i.v_)(p.getHospitalAddress),1)])),_:1}),(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Status: "+(0,i.v_)(this.status),1)])),_:1}),this.fees?((0,a.uX)(),(0,a.Wv)(l,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)("Total Fees: "+(0,i.v_)(p.getTotalAmount),1)])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Duration: "+(0,i.v_)(this.duration)+" minutes",1)])),_:1})])),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{link:"",to:p.appointmentDetailsLink,mode:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)("View Detail")])),_:1},8,["to"]),p.isAdmin?((0,a.uX)(),(0,a.Wv)(u,{key:0,class:(0,i.C4)({disable:"approve"===d.disableButton}),onClick:e[0]||(e[0]=t=>p.approve(this.id)),mode:"outline"},{default:(0,a.k6)((()=>[(0,a.eW)("Approve")])),_:1},8,["class"])):(0,a.Q3)("",!0),p.isAdmin?((0,a.uX)(),(0,a.Wv)(u,{key:1,class:(0,i.C4)({disable:"cancel"===d.disableButton}),onClick:e[1]||(e[1]=t=>p.cancel(this.id)),mode:"outline"},{default:(0,a.k6)((()=>[(0,a.eW)("Cancel")])),_:1},8,["class"])):(0,a.Q3)("",!0),p.isDoctor?((0,a.uX)(),(0,a.Wv)(u,{key:2,link:"",to:p.appointmentConsultDetailsLink,mode:"outline"},{default:(0,a.k6)((()=>[(0,a.eW)("Consult(Doctor)")])),_:1},8,["to"])):(0,a.Q3)("",!0),p.isDoctor||p.isAdmin?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(u,{key:3,button:"",mode:"flat"},{default:(0,a.k6)((()=>[(0,a.eW)("Notify me")])),_:1}))])),_:1})])])}var d=n(4116),p={props:["id","doctorName","patientName","index","duration","startTime","date","status","hospitalAddress","fees"],data(){return{disableButton:null}},computed:{getTotalAmount(){return this.fees?.getTotalAmount??0},appointmentDetailsLink(){return this.isAdmin&&this.id?"/admin/appointments/"+this.id:this.isDoctor&&this.id?"/doctor/appointments/"+this.id:"/patient/appointments"===this.$route.path||"/doctor/appointments"===this.$route.path||"/doctor/appointments"===this.$route.path?this.$route.path+"/"+this.id:this.$route.path+"/appointments/"+this.id},appointmentConsultDetailsLink(){return"/doctor/consult/"+this.id??""},getHospitalAddress(){return(this.hospitalAddress?.streetAddress?.[0]??"")+(this.hospitalAddress?.streetAddress?.[1]??"")+(this.hospitalAddress?.city??"")},getStartTime(){if(this.startTime){const t=d.c9.fromFormat(this.startTime,"HH:mm",{zone:"Asia/Kolkata"});return t.toLocaleString({hour:"numeric",minute:"2-digit"}).toLowerCase()}return"Not available"},getDuration(){return this.duration+" Minutes"},getDoctorName(){return"doctor: "+(this.doctorName??"")},getPatientName(){return"patient: "+(this.patientName??"Unknown")},isDoctor(){return this.$store.getters["auth/isDoctor"]},isAdmin(){return this.$store.getters["auth/isAdmin"]}},methods:{approve(t){this.setDisableButton("approve"),this.$emit("approve",t)},cancel(t){this.setDisableButton("cancel"),this.$emit("cancel",t)},setDisableButton(t){this.disableButton===t?this.disableButton=null:this.disableButton=t}}},l=(n(5294),n(1241));const m=(0,l.A)(p,[["render",r],["__scopeId","data-v-c245967c"]]);var u=m},1766:function(t,e,n){"use strict";n.d(e,{A:function(){return p}});var a=n(6768);function i(t,e,n,i,o,s){const r=(0,a.g2)("AppointmentItem"),d=(0,a.g2)("base-list"),p=(0,a.g2)("base-card");return(0,a.uX)(),(0,a.Wv)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(this.appointments,((t,e)=>((0,a.uX)(),(0,a.Wv)(r,{key:t.id,onApprove:s.approve,onCancel:s.cancel,id:t.id,doctorName:t.doctorName,patientName:t.patientName,index:e,duration:t.duration,startTime:t.startTime,date:t.date,status:t.status,hospitalAddress:t.hospitalAddress,fees:t.fees},null,8,["onApprove","onCancel","id","doctorName","patientName","index","duration","startTime","date","status","hospitalAddress","fees"])))),128))])),_:1})])),_:1})}var o=n(6649),s={props:["appointments"],components:{AppointmentItem:o.A},data(){return{}},methods:{cat(){console.log(this.appointments)},approve(t){this.$emit("approveTop",t)},cancel(t){this.$emit("cancelTop",t)}}},r=n(1241);const d=(0,r.A)(s,[["render",i]]);var p=d},5143:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return F}});var a=n(6768),i=n(4232);const o=t=>((0,a.Qi)("data-v-d75f3d62"),t=t(),(0,a.jt)(),t),s={class:"error-message"},r={key:0},d={class:"main-section"},p={class:"CTA-container"},l=o((()=>(0,a.Lk)("p",null,"Easily Book your next appointment or view your past records",-1))),m={key:0,class:"appointment-container"},u={class:"appointment-row-container"},c=o((()=>(0,a.Lk)("h2",null,"Your Upcoming Appointments",-1))),h={key:0},f={key:1},g={class:"appointment-row-container"},k=o((()=>(0,a.Lk)("h2",null,"Your Past Appointments",-1))),v={key:0},A={key:1},b={class:"appointment-row-container"},y=o((()=>(0,a.Lk)("h2",null,"Your Upcoming Lab Reports",-1))),x={key:0},_={key:1};function w(t,e,n,o,w,N){const D=(0,a.g2)("base-dialog"),T=(0,a.g2)("base-spinner"),C=(0,a.g2)("base-button"),L=(0,a.g2)("base-button-container"),W=(0,a.g2)("AppointmentItem"),F=(0,a.g2)("TheAppointmentsRow");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(D,{show:!!w.error,mode:"error",title:"An error occurred",onClose:t.handleError},{default:(0,a.k6)((()=>[(0,a.Lk)("p",s,(0,i.v_)(w.error),1)])),_:1},8,["show","onClose"]),w.isLoading?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(T)])):(0,a.Q3)("",!0),(0,a.Lk)("section",d,[(0,a.Lk)("div",p,[l,(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(C,{link:"",mode:"primary big",to:"patient/book"},{default:(0,a.k6)((()=>[(0,a.eW)("Book Appointment")])),_:1}),(0,a.bF)(C,{link:"",class:"outline big",to:"patient/appointments"},{default:(0,a.k6)((()=>[(0,a.eW)("View Past Data")])),_:1})])),_:1})]),N.nextAppointment?((0,a.uX)(),(0,a.CE)("ul",m,[(0,a.bF)(W,{id:N.nextAppointment?.id,doctorName:N.nextAppointment?.doctorName,patientName:N.nextAppointment?.patientName,duration:N.nextAppointment?.duration,startTime:N.nextAppointment?.startTime,date:N.nextAppointment?.date,status:N.nextAppointment?.status},null,8,["id","doctorName","patientName","duration","startTime","date","status"])])):(0,a.Q3)("",!0)]),(0,a.Lk)("section",u,[c,w.isLoading?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.bF)(T)])):(0,a.Q3)("",!0),0===N.upcomingAppointments?.length?((0,a.uX)(),(0,a.CE)("p",f," No Appointments. Book one by clicking on book appointment button. ")):((0,a.uX)(),(0,a.Wv)(F,{key:2,appointments:N.upcomingAppointments},null,8,["appointments"]))]),(0,a.Lk)("section",g,[k,w.isLoading?((0,a.uX)(),(0,a.CE)("div",v,[(0,a.bF)(T)])):(0,a.Q3)("",!0),0===N.pastAppointments?.length?((0,a.uX)(),(0,a.CE)("p",A," No Appointments. Book one by clicking on book appointment button. ")):((0,a.uX)(),(0,a.Wv)(F,{key:2,appointments:N.pastAppointments},null,8,["appointments"]))]),(0,a.Lk)("section",b,[y,w.isLoading?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.bF)(T)])):(0,a.Q3)("",!0),0===N.pastAppointments?.length?((0,a.uX)(),(0,a.CE)("p",_," No Appointments. Book one by clicking on book appointment button. ")):((0,a.uX)(),(0,a.Wv)(F,{key:2,appointments:N.pastAppointments},null,8,["appointments"]))])],64)}n(4114);var N=n(6649),D=n(1766),T=n(4116),C={components:{TheAppointmentsRow:D.A,AppointmentItem:N.A},data(){return{patientName:"",isLoading:!1,error:null}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},pastAppointments(){const t=this.$store.getters["patient/appointments"],e=T.c9.fromJSDate(new Date,{zone:"Asia/Kolkata"}).toISO(),n=[];for(const a of t){const t={id:a?._id,patientName:a?.patientName,doctorName:a?.doctorName,date:a?.ISTDateString,startTime:a?.startTime,hospitalAddress:a?.hospitalAddress??null,duration:a?.duration??null,hospitalName:a?.hospitalName??"",status:a?.status??"pending",fees:a?.fees};e>a?.bookingDateTime&&n.push(t)}return n},upcomingAppointments(){const t=this.$store.getters["patient/appointments"],e=T.c9.fromJSDate(new Date,{zone:"Asia/Kolkata"}).toISO(),n=[];for(const a of t){const t={id:a?._id,patientName:a?.patientName,doctorName:a?.doctorName,date:a?.ISTDateString,startTime:a?.startTime,hospitalAddress:a?.hospitalAddress??null,duration:a?.duration??null,hospitalName:a?.hospitalName??"",status:a?.status??"pending",fees:a?.fees??null};e<=a?.bookingDateTime&&n.push(t)}return n},nextAppointment(){return this.upcomingAppointments[0]}},methods:{async loadAppointments(){this.isLoading=!0,this.error=null;try{await this.$store.dispatch("patient/fetchAppointments")}catch(t){this.error=t.message||"Something went wrong!"}this.isLoading=!1}},created(){this.loadAppointments()}},L=(n(9875),n(1241));const W=(0,L.A)(C,[["render",w],["__scopeId","data-v-d75f3d62"]]);var F=W},5294:function(t,e,n){var a=n(4515);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var i=n(8459).A;i("62d0b1f0",a,!0,{sourceMap:!1,shadowMode:!1})},9875:function(t,e,n){var a=n(9334);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var i=n(8459).A;i("79d12a2e",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=5143.c3a89142.js.map